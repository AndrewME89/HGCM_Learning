<!DOCTYPE html>
<html>
<head>
<title>Forgot Password</title>

<!-- Template Stylesheet -->
<link href="css/style.css" rel="stylesheet">

    <!-- Login Stylesheet -->
    <link href="css/login.css" rel="stylesheet">

</head>
<body>

<div class="forgot-password-container">
    <h2>Forgot Password</h2>
    <form id="forgot-password-form">
        <input type="email" id="email" placeholder="Enter your email" required><br>
        <button type="submit">Reset Password</button>
    </form>
</div>

<script>
<script>
const forgotPasswordForm = document.getElementById('forgot-password-form');

// Your hardcoded user database (from login.html)
// Make sure this is accessible in this file as well
// ... (your 'users' array) ...

forgotPasswordForm.addEventListener('submit', (event) => {
    event.preventDefault();

    const email = document.getElementById('email').value;

    // Check if email exists in the 'users' array
    const user = users.find(u => u.email === email); // Assuming you have an 'email' property in your user objects

    if (user) {
        // Generate a reset token (you'll need a more secure method in a real application)
        const resetToken = generateResetToken();

        // Store the token associated with the username in local storage
        localStorage.setItem('resetToken-' + user.username, resetToken);

        // Simulate sending an email (replace with actual email sending logic)
        sendEmail(email, resetToken);

        alert('A password reset link has been sent to your email.');
    } else {
        alert('Email not found. Please try again.');
    }
});

// Placeholder functions - replace with your actual implementations
function generateResetToken() {
    // Generate a unique token (e.g., using a library like `uuid`)
    // For now, a simple random string will suffice for testing
    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
}

function sendEmail(email, resetToken) {
    // Implement your email sending logic here
    // The email should contain a link to 'reset_password.html' with the token as a query parameter
    console.log(`Sending email to ${email} with reset token: ${resetToken}`);
}
</script>
</script>

</body>
</html>